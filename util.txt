utlity function for version 1.
version 3